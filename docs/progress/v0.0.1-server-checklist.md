# v0.0.1 Server Checklist

## SM0 專案初始化

- [x] S-INIT-001 初始化 Python 專案結構（requirements.txt + app/main.py）
- [x] S-INIT-002 建立 Dockerfile + docker-compose.yml
- [x] S-INIT-003 `docker compose up` 成功啟動 FastAPI server
- [x] S-INIT-004 Health check endpoint（`GET /health`）+ CORS 設定

## SM1 WebSocket 基礎

- [x] S-WS-001 WebSocket endpoint 可接受連線（`/ws`）
- [x] S-WS-002 定義 typed JSON 訊息協議（Pydantic models）

## SM2 房間系統

- [ ] S-ROOM-001 房間資料結構（room_id, players, board, current_turn）
- [ ] S-ROOM-002 建立房間流程（生成 6 碼 room_id，第一位玩家加入）
- [ ] S-ROOM-003 加入房間流程（第二位玩家連線，驗證房間存在且未滿）
- [ ] S-ROOM-004 滿兩人自動開始遊戲（廣播 game_started）
- [ ] S-ROOM-005 離開房間 / 斷線清理（通知對手、清除空房間）

## SM3 遊戲邏輯

- [ ] S-GAME-001 棋盤狀態管理（15×15 二維陣列）
- [ ] S-GAME-002 落子驗證（合法座標、空格、正確回合、遊戲進行中）
- [ ] S-GAME-003 勝負判定（四方向五連線檢查）
- [ ] S-GAME-004 平手偵測（225 步棋盤滿）
- [ ] S-GAME-005 廣播遊戲狀態更新給雙方玩家

## SM4 斷線重連

- [ ] S-RECONNECT-001 玩家識別 token（UUID，建立房間時發放）
- [ ] S-RECONNECT-002 重連時驗證 token 並回傳完整棋盤狀態（state_sync）

## SM5 回合計時

- [ ] S-TIMER-001 每步 30 秒倒數（asyncio.Task）
- [ ] S-TIMER-002 超時自動判負，通知雙方

## SM6 測試

- [ ] S-TEST-001 遊戲邏輯單元測試（勝負判定、落子驗證）
- [ ] S-TEST-002 房間生命週期測試（建立、加入、離開）
- [ ] S-TEST-003 WebSocket 整合測試（完整對局流程）
